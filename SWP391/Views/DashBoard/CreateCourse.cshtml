@model SWP391.Views.ViewModel.NewCourseVM
@{
    //ViewData["Title"] = "Admin Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
    int i = 1;
}

<main class="ttr-wrapper">
    <div class="container-fluid">
        @*<div class="db-breadcrumb">
                <h4 class="breadcrumb-title">Add listing</h4>
                <ul class="db-breadcrumb-list">
                    <li><a href="#"><i class="fa fa-home"></i>Home</a></li>
                    <li>Add listing</li>
                </ul>
            </div>*@
        <div class="row">
            <!-- Your Profile Views Chart -->
            <div class="col-lg-12 m-b30">
                <div class="widget-box">
                    <div class="wc-title" style="padding-left: 30px">
                        <h4>Add listing</h4>
                    </div>
                    <div class="widget-inner">
                        <form class="edit-profile m-b30" method="post" asp-action="CreateCourse" asp-controller="DashBoard" enctype="multipart/form-data">
                            <div class="row">
                                <div class="col-12">
                                    <div class="ml-auto">
                                        <h3>1. Basic info</h3>
                                    </div>
                                </div>
                                <div class="form-group col-6">
                                    <label asp-for="@Model.Course.CourseId" class="col-form-label"></label>
                                    <div>
                                        <input class="form-control" asp-for="@Model.Course.CourseId">
                                    </div>
                                </div>
                                <div class="form-group col-6">
                                    <label asp-for="@Model.Course.Title" class="col-form-label"></label>
                                    <div>
                                        <input class="form-control" asp-for="@Model.Course.Title">
                                    </div>
                                </div>
                                <div class="form-group col-6">
                                    <label asp-for="@Model.Course.Description" class="col-form-label"></label>
                                    <div>
                                        <input class="form-control" asp-for="@Model.Course.Description">
                                    </div>
                                </div>
                                <div class="form-group col-6">
                                    <label asp-for="@Model.Course.ImgFile" class="col-form-label"></label>
                                    <div>
                                        <input class="form-control" asp-for="@Model.Course.ImgFile">
                                    </div>
                                </div>
                                <div class="form-group col-6">
                                    <label asp-for="@Model.Course.CreatedDate" class="col-form-label"></label>
                                    <div>
                                        <input class="form-control" asp-for="@Model.Course.CreatedDate">
                                    </div>
                                </div>
                                <div class="form-group col-6">
                                    <select asp-for="@Model.Course.CategoryId" asp-items="@Model.TypeDropDown" class="form-control">
                                        <option selected>--Select Categories--</option>
                                    </select>
                                    <span asp-validation-for="@Model.Course.CategoryId" class="text-danger"></span>
                                </div>
                                <div class="seperator"></div>

                                <div class="col-12">
                                    <div class="ml-auto">
                                        <h3>2. Topic info</h3>
                                    </div>
                                </div>
                                <div class="col-12">
                                <button type="button" data-url="@Url.Action("CreateTopic","UserCourse")" class="addService btn">Add Topic</button>
                                </div>
                                <div id="Topic" class="row">
                                    <div class="col-12 list-topic">
                                        <span>Topic</span>
                                        <div class="form-group topic-item">
                                            <label asp-for="@Model.Topic.TopicId" class="col-form-label"></label>
                                            <div>
                                                <input class="form-control topic-item" asp-for="@Model.Topic.TopicId">
                                            </div>
                                        </div>
                                        <div class="form-group topic-item">
                                            <label asp-for="@Model.Topic.TopicOrder" class="col-form-label"></label>
                                            <div>
                                                <input class="form-control" asp-for="@Model.Topic.TopicOrder" min="1">
                                            </div>
                                        </div>
                                        <div class="form-group topic-item">
                                            <label asp-for="@Model.Topic.TopicName" class="col-form-label"></label>
                                            <div>
                                                <input class="form-control" asp-for="@Model.Topic.TopicName">
                                            </div>
                                        </div>
                                        <div class="form-group topic-item">
                                            <button type="button" class="addService btn btn-delete deleteService">Delete</button>
                                        </div>
                                    </div>
                                        @*<div class="col-12 list-topic">
                                            <span>Topic</span>
                                            <div class="form-group topic-item">
                                                <label asp-for="@Model.Topic.TopicId" class="col-form-label"></label>
                                                <div>
                                                    <input class="form-control topic-item" asp-for="@Model.Topic.TopicId">
                                                </div>
                                            </div>
                                            <div class="form-group topic-item">
                                                <label asp-for="@Model.Topic.TopicOrder" class="col-form-label"></label>
                                                <div>
                                                    <input class="form-control" asp-for="@Model.Topic.TopicOrder">
                                                </div>
                                            </div>
                                            <div class="form-group topic-item">
                                                <label asp-for="@Model.Topic.TopicName" class="col-form-label"></label>
                                                <div>
                                                    <input class="form-control" asp-for="@Model.Topic.TopicName">
                                                </div>
                                            </div>
                                        </div>*@

                                </div>

                                <div class="col-12">
                                    @*<button type="button" class="btn-secondry add-item m-r5"><i class="fa fa-fw fa-plus-circle"></i>Add Item</button>*@
                                    @*<button type="submit" class="btn">Save changes</button>*@
                                    <input type="submit" class="btn btn-delete" value="Save changes" />
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            <!-- Your Profile Views Chart END-->
        </div>
    </div>
</main>
<script src="/assets/js/jquery.min.js"></script>
@*<script type="text/javascript">
        var topicId = '1';
        var order = '2';
        var name1 = '3';
        var html = '<div class="col-12 list-topic"><span>Topic</span><div class="form-group topic-item"><label asp-for="' + topicId + '" class="col-form-label"></label><div><input class="form-control topic-item" asp-for="' + topicId + '"></div></div><div class="form-group topic-item"><label asp-for="' + order + '" class="col-form-label"></label><div><input class="form-control" asp-for="' + order + '"></div></div><div class="form-group topic-item"><label asp-for="' + name1 + '" class="col-form-label"></label><div><input class="form-control" asp-for="' + name1 + '"></div></div></div>';

        $(document).on('click', '.addService', function () {
            $(this).parent().append(html);
        });
    </script>*@
<script type="text/javascript">
    $('.addService').on('click', function (e) {
        e.preventDefault();
        e.stopPropagation();
        var $topic = $('#Topic'),
            url = $(this).data('url');
        $.get(url, function (data) {
            $topic.append(data);
            
        });
    });
    
</script>
