@model List<SWP391.Models.Attempt>
@{
    Layout = "_Layout";
    ViewData["Title"] = "ATTEMPT DETAILED";
}

<div class="page-content bg-white">
    <div class="breadcrumb-row">
        <div class="container">
            <ul class="list-inline">
                <li><a href="#">Home</a></li>
                <li>Attempt</li>
            </ul>
        </div>
    </div>
    <div class="content-block">
        <div class="section-area section-sp1">
            <h2 style="text-align:center">Record</h2>
            <div class="container">
                <table class="table table-bordered" >
                    <thead style="background-color: #00c5dc">
                        <tr>
                            <th scope="col">#</th>
                            <th scope="col">Start time</th>
                            <th scope="col">Mark</th>
                            <th scope="col">Question Preview</th>
                        </tr>
                    </thead>
                    <tbody>
                        @if (Model.Count > 0)
                        {
                            int count = 0;
                            foreach (var at in Model)
                            {
                                <tr>
                                    <td>@(count++)</td>
                                    <td>@(String.Format("{0:MM/dd/yyyy}", at.StartTime))</td>
                                    <td>@at.TotalMark</td>
                                    <td>
                                        <table class="table">
                                            <thead style="background-color: #00c5dc">
                                                <tr>
                                                    
                                                    <th scope="col">Id</th>
                                                    <th scope="col">User Answer</th>
                                                    <th scope="col">Correct Answer</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                @foreach(var atd in at.AttemptDetaileds) 
                                                { 
                                                    
                                                <tr>
                                                    <td>@atd.QuestionBank.QuestionId</td>
                                                    <td>@atd.UserAnswer</td>
                                                    <td>@atd.QuestionBank.Answer</td>
                                                </tr>
                                                }
                                            </tbody>
                                        </table>
                                        
                                    </td>
                                </tr>
                            }
                        }
                    </tbody>
                </table>
                @Model.Count
            </div>
        </div>
    </div>
</div>